<html>
    <head>
        <style>
            .window-handle
            {
                position: absolute;
                resize: both;
                overflow:hidden;
            }

            .window-page-content
            {
                top: 0;
                left: 0;
                position: relative;
                width: fit-content;
                height: fit-content;
                z-index: 1;
            }

            .window-modal-block
            {
                top: 0;
                left: 0;
                position: absolute;
                opacity: 0.8;
                z-index: 2;
            }
        </style>
    </head>

    <div class="window-handle" onmousedown="dragstart(event)">
        <div class="window-modal-block">
        </div>
        <div class="window-page-content">
            <span name="win">xxx</span>
            slam<br>
            name: <input> <button onclick="hide()">Hide</button>
            slam<br>
        </div>
    </div>

    <script>
        var move = false;
        var mouse = {x: 0, y: 0};
        var element = document.querySelector(".window-handle");
        var modal = document.querySelector(".window-modal-block");

        console.log("win: "+element.querySelector("[name=win]"))

        function dragstart(event)
        {
            if (event.clientY - element.offsetTop >= 24)
                return;

            move = true;

            document.addEventListener('mousemove',drag);
            document.addEventListener('mouseup',dragend);

            mouse = {x: event.clientX, y: event.clientY};
        }

        function drag(event)
        {
            if (move)
            {
                event.preventDefault();
                var offX = event.clientX - mouse.x;
                var offY = event.clientY - mouse.y;

                var elemY = element.offsetTop;
                var elemX = element.offsetLeft;

                var posX = elemX + offX;
                var posY = elemY + offY;

                element.style.top = posY + "px";
                element.style.left = posX + "px";

                mouse = {x: event.clientX, y: event.clientY};

            }
        }

        function dragend(event)
        {
            move = false;
            document.removeEventListener('mousemove',drag);
            document.removeEventListener('mouseup',dragend);
        }

        function hide()
        {
            element.style.resize = "none";
            modal.style.width = element.offsetWidth;
            modal.style.height = element.offsetHeight;
        }
    </script>
</html>