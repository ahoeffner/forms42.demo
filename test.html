<html>
    <head>
        <style>
            .window
            {
                top: 30px;
                left: 30px;
                position: absolute;
                resize: both;
                overflow:auto;
                border: 1px solid black;
            }

            .page
            {
                top: 0;
                left: 0;
                position: relative;
                width: fit-content;
                height: fit-content;
                z-index: 1;
            }

            .modal
            {
                top: 0;
                left: 0;
                position: absolute;
                background-color: aqua;
                opacity: 0.8;
                z-index: 2;
            }
        </style>
    </head>

    <div class="window" onmousedown="dragstart(event)">
        <div class="modal">
        </div>
        <div class="page">
            slam<br>
            name: <input> <button onclick="hide()">Hide</button>
            slam<br>
        </div>
    </div>

    <script>
        /*
        var isDown = false;
        var div = document.querySelector(".window");

        div.addEventListener('mousedown', function(e) {
            isDown = true;
            offset = [
                div.offsetLeft - e.clientX,
                div.offsetTop - e.clientY
            ];
        }, true);

        document.addEventListener('mouseup', function() {
            isDown = false;
        }, true);

        document.addEventListener('mousemove', function(event) {
            event.preventDefault();
            if (isDown) {
                mousePosition = {

                    x : event.clientX,
                    y : event.clientY

                };
                div.style.left = (mousePosition.x + offset[0]) + 'px';
                div.style.top  = (mousePosition.y + offset[1]) + 'px';
            }
        }, true);
        */

        var move = false;
        var mouse = {x: 0, y: 0};
        var element = document.querySelector(".window");

        function dragstart(event)
        {
            move = true;
            document.addEventListener('mousemove',drag);
            document.addEventListener('mouseup',dragend);
            mouse = {x: event.clientX, y: event.clientY};
        }

        function drag(event)
        {
            if (move)
            {
                event.preventDefault();
                var offX = event.clientX - mouse.x;
                var offY = event.clientY - mouse.y;

                var elemY = element.offsetTop;
                var elemX = element.offsetLeft;

                var posX = elemX + offX;
                var posY = elemY + offY;

                element.style.top = posY + "px";
                element.style.left = posX + "px";

                mouse = {x: event.clientX, y: event.clientY};

            }
        }

        function dragend(event)
        {
            move = false;
            document.removeEventListener('mousemove',drag);
            document.removeEventListener('mouseup',dragend);
        }

        function hide()
        {
            var modal = document.querySelector(".modal");
            var window = document.querySelector(".window");

            modal.style.width = window.offsetWidth;
            modal.style.height = window.offsetHeight;

            window.style.resize = "none";
            window.setAttribute("draggable","false");
        }
    </script>
</html>